#pgzero
import random

WIDTH =700
HEIGHT = 350

TITLE = "" # Oyun Adı
FPS = 30 # Saniyedeki Kare Sayısı

arkaplan = Actor("1", (350,175))
karakter = Actor("alienGreen_front")

seviye = 1 # Seviye
hiz = 5 # Karakterimizin Hızı
mod = "oyun"
puan = 0
actis = 5
# Düşmanların Doğuşu
dusmanlar = []
def yeni_dusman():
    global mod
    karakter.pos = (30, 40)
    dusman_sayisi = random.randint(2, 7)
    if seviye == 1:
        for i in range(dusman_sayisi):
            x = random.randint(20, 280)
            y = random.randint(20, 280)
            dusman = Actor("barnacle", (x, y))
            dusmanlar.append(dusman)
    elif seviye == 2:
        arkaplan.image = "2"
        for i in range(dusman_sayisi):
            x = random.randint(20, 280)
            y = random.randint(20, 280)
            dusman = Actor("snail_move", (x, y))
            dusmanlar.append(dusman)
    elif seviye == 3:
        arkaplan.image = "3"
        for i in range(dusman_sayisi):
            x = random.randint(20, 280)
            y = random.randint(20, 280)
            dusman = Actor("bee", (x, y))
            dusmanlar.append(dusman)
    elif seviye == 4:
        arkaplan.image = "4"
        for i in range(dusman_sayisi):
            x = random.randint(20, 280)
            y = random.randint(20, 280)
            dusman = Actor("spikes" and "cactus" and "", (x, y))
            dusmanlar.append(dusman)
yeni_dusman()

def draw():
    if mod == "oyun":
        arkaplan.draw()
        karakter.draw()
        screen.draw.text(seviye, (280, 10), color = 'white', fontsize = 20)
        for i in range(len(dusmanlar)):
            dusmanlar[i].draw()
    elif mod == "mola":
        arkaplan.draw()
        screen.draw.text("✨Kazandın!🎉", center=(150, 100), color = 'white', fontsize = 42)
        screen.draw.text("Bir Sonraki Seviye:", center=(150, 150), color = 'white', fontsize = 24)
        screen.draw.text(seviye, center=(150, 180), color = 'white', fontsize = 36)
        screen.draw.text("Boşluk tuşuna basınız", center=(150, 220), color = 'red', fontsize = 24)
    elif mod == "son":
        arkaplan.draw()
        screen.draw.text(puan, center=(150, 150), color = 'white', fontsize = 46)
        
def update(dt):
    global puan, seviye, artis, mod, hiz
    if keyboard.left:
        karakter.x -= hiz
    elif keyboard.right:
        karakter.x += hiz
    elif keyboard.up:
        karakter.y -= hiz
    elif keyboard.down:
        karakter.y += hiz
    
    sayi = karakter.collidelist(dusmanlar)
    if sayi!= -1:
        dusmanlar.pop(sayi)
        sayi += artis
    # Seviye Değişikliği    
    if mod != 'mola' and dusmanlar == []:
        seviye+= 1 # Bir Sonraki Seviyeye Geçiş
        hiz += 2 # Karakterin hızı değişecek
        yeni_dusman()
        mod = "mola"
    if seviye == 5:
        mod = "son" # Seviyeler tamamlandığı anda oyun bitecek
    if mod == "mola" and keyboard.space:
        mod = "oyun"
